{"version":3,"file":"stepsg.js","mappings":"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","sources":["webpack://plitoQuise/./public/src/QuizeResult.ts","webpack://plitoQuise/./public/src/domManip/domStep1.ts","webpack://plitoQuise/./public/src/domManip/domStep2.ts","webpack://plitoQuise/./public/src/domManip/domStep5.ts","webpack://plitoQuise/./public/src/domManip/domStepFinish.ts","webpack://plitoQuise/./public/src/settings.ts","webpack://plitoQuise/./public/src/steppers/HowManyGates.ts","webpack://plitoQuise/./public/src/steppers/HowManyWickets.ts","webpack://plitoQuise/./public/src/steppers/SecondStep5.ts","webpack://plitoQuise/./public/src/steppers/Step.ts","webpack://plitoQuise/./public/src/steppers/Step1.ts","webpack://plitoQuise/./public/src/steppers/Step2.ts","webpack://plitoQuise/./public/src/steppers/Step3.ts","webpack://plitoQuise/./public/src/steppers/Step5.ts","webpack://plitoQuise/./public/src/steppers/Step6.ts","webpack://plitoQuise/./public/src/steppers/Step7.ts","webpack://plitoQuise/./public/src/steppers/StepFinish.ts","webpack://plitoQuise/./public/src/steppers/StepN4.ts","webpack://plitoQuise/./public/src/steppers/StepN5.ts","webpack://plitoQuise/./public/src/steppers/StepN6.ts","webpack://plitoQuise/./public/src/steppers/StepN7.ts","webpack://plitoQuise/webpack/bootstrap","webpack://plitoQuise/./public/steps.ts"],"sourcesContent":["import { disableButton } from \"./domManip/domStep1\";\r\nimport { blockedNextStep, deleteErrorBlock } from \"./domManip/domStep2\";\r\nimport { settings } from \"./settings\";\r\nimport { Step } from \"./steppers/Step\";\r\nimport { StepFinish } from \"./steppers/StepFinish\";\r\nimport { SendData } from \"./types/stepsT\";\r\nimport { TelegramWebApps } from 'telegram-webapps-types';\r\n\r\ndeclare const window: {\r\n    Telegram: TelegramWebApps.SDK;\r\n} & Window;\r\n\r\n\r\n\r\nenum Error {\r\n    ERR='red',\r\n    OK='green'\r\n}\r\n\r\nexport class QuizeResult {\r\n\r\n    cnt: HTMLElement | null = null;                 // контейнер\r\n    btnPrev: HTMLButtonElement | null = null;       // кнопка назад\r\n    btnNext: HTMLButtonElement | null = null;       // кнопка вперед\r\n    steps: Step[] = [];                             // шаги\r\n    counter: number = 0;                            // счетчик шагов\r\n    currentStep: Step | null = null;                // текущий шаг\r\n    sendData: SendData | null = null;               // данные из шагов для отправки на сервер \r\n\r\n    constructor(steps: Step[], btnPrev: HTMLButtonElement | null, btnNext: HTMLButtonElement | null) {\r\n        this.steps = [...steps];\r\n        this.btnPrev = btnPrev;\r\n        this.btnNext = btnNext;\r\n        this.counter = 0;\r\n       \r\n    }\r\n\r\n    init() {\r\n        // заблочить все кнопки навигации и кнопке финиш назначить колбек отправки формы\r\n        this.steps.forEach(s => {\r\n            disableButton(s.button, true);\r\n            if (s instanceof StepFinish && s.nameStep === 'step_finish') {\r\n                s.setCallbackButtonSubmit(this.sendFinish.bind(this));\r\n            }\r\n        });\r\n        this.btnPrev?.addEventListener('click', this.prevStep.bind(this));  // обработчик назад\r\n        this.btnNext?.addEventListener('click', this.nextStep.bind(this));  // обработчик вперед\r\n        this.currentStep = this.steps[this.counter];                        // выбрать текущий шаг № 1\r\n        this.selectNavButtonCurrentStep(this.currentStep);                  // выделить кнопку текущего шага\r\n        this.currentStep.step();                                            // наполнить контейнер текущим шагом\r\n    }\r\n\r\n    /**\r\n     * \r\n     * Сформировать ответ для сервера и отправить\r\n     * данные выбранных шагов. (шаг финиш, кнопка отправить)\r\n     */\r\n    async sendFinish(e: Event) {\r\n        e.preventDefault();\r\n        this.stepsDataResult();\r\n        if (this.sendData) {\r\n            const response = await fetch(settings.HOST + '/sendquizdata', {\r\n                method: 'POST',\r\n                mode: \"cors\",  \r\n                credentials: \"include\",  \r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                  },\r\n                  body: JSON.stringify(this.sendData)\r\n            });\r\n            const result = await response.json() as {status: string, rowId: string};\r\n            console.log(result.status)\r\n            if (result && result.status && result.status != '') {\r\n                if (result.status === 'ok') {\r\n                    this.sendErrMessage(Error.OK, result.status);\r\n                    const idQuiz = result.rowId;\r\n                    try {\r\n                        window.Telegram.WebApp.ready();\r\n                        window.Telegram.WebApp.sendData(idQuiz);\r\n                        window.Telegram.WebApp.close();\r\n                    } catch (e) {}\r\n                } else if (result.status === 'redirect') {\r\n                    window.location.href = settings.HOST;\r\n                }\r\n\r\n            } else {\r\n                this.sendErrMessage(Error.ERR, 'Ошибка. Попробуйте отправить еще раз.');\r\n            }\r\n        }\r\n    }\r\n\r\n    selectNavButtonCurrentStep(cs: Step) {\r\n        this.steps.forEach(s => {\r\n            disableButton(s.button, true);\r\n            cs.button?.classList.remove('select-border-focus-on')\r\n        });\r\n        disableButton(cs.button, false);\r\n        cs.button?.classList.add('select-border-focus-on')\r\n    }\r\n\r\n    /**\r\n     * назад\r\n     */\r\n    prevStep() {\r\n        \r\n        if (this.counter < 0) {\r\n            this.counter = 0\r\n        } else {\r\n            this.currentStep!.selectData();\r\n            this.counter--;\r\n            if (this.counter >= 0) {\r\n                this.currentStep = this.steps[this.counter];\r\n                this.selectNavButtonCurrentStep(this.currentStep!);\r\n                this.currentStep.step();\r\n            } else { \r\n                this.counter = 0; \r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * вперед\r\n     */\r\n    nextStep() {\r\n         \r\n        if (this.counter >= this.steps.length-1) {\r\n           return;  \r\n        } else {\r\n            this.currentStep!.selectData();\r\n            \r\n            if (this.currentStep!.isBlockNext) {\r\n                const err = blockedNextStep('Пожалуйста укажите местоположение');\r\n                this.currentStep?.cnt!.appendChild(err);\r\n                deleteErrorBlock(this.currentStep!.cnt, err, 2000);\r\n                return;\r\n            }\r\n            \r\n            this.counter++;\r\n            if (this.counter <= this.steps.length) {\r\n                this.currentStep = this.steps[this.counter];\r\n                this.selectNavButtonCurrentStep(this.currentStep);\r\n                \r\n                 this.currentStep.step(); \r\n                \r\n            } else { \r\n                this.counter = this.steps.length-1;\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    // при нажатии на radio input в текущий шаг записывается результат выбора\r\n    change(form: HTMLFormElement) {\r\n        for (let s of this.steps) {\r\n            if (s.form && form.id === s.form.id)\r\n                s.selectData();\r\n            s.bodyScrollDown();\r\n        }\r\n    }\r\n\r\n    isValid(eltype: string, elvalue: string): boolean {\r\n        const v = elvalue.trim()\r\n        switch (eltype) {\r\n            case 'text': {\r\n                if (v.length > 0 && v.length <= 25) \r\n                    return true;\r\n                break;\r\n            }\r\n            case 'tel': {\r\n                if (v.length > 0 && v.length <= 30) \r\n                    return true;\r\n                break; \r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Сообщение об ошибках при отправке формы\r\n     * @param msg text\r\n     */\r\n    sendErrMessage(typeErr: Error = Error.ERR, msg: string = '') {\r\n        const errmsg = document.getElementById('spanerr');\r\n        errmsg!.textContent = msg;\r\n        errmsg!.setAttribute('style', `display: block; color: ${typeErr}; font-size: 0.8em;`)\r\n    }\r\n\r\n\r\n    // выборка данных из всех шагов и миним. валидация формы \"отправить\"\r\n    // span id=spanerr - сообщение ошибки \r\n    stepsDataResult() {\r\n        this.sendData = null;\r\n        const sendData: SendData = {\r\n            name: '',\r\n            phone: '',\r\n            color_fence_block: '',\r\n            height_fence: '',\r\n            total_lenght_fence: '',\r\n            lenght_between_colls: '',\r\n            how_many_wickets: '',\r\n            width_wicket: '',\r\n            width_second_wicket: '',\r\n            how_many_gates: '',\r\n            width_gates: '',\r\n            width_second_gates: '',\r\n            var_comp_coll : '',\r\n            fill_between_coll : '',\r\n            isAutomatic : '',\r\n            isMount: '',\r\n            city: ''\r\n        }; // формирование данных из шагов для отправки\r\n\r\n        this.sendErrMessage();\r\n        \r\n        for (let s of this.steps) {\r\n            if (s.form!.id === 'form-step-finish') {\r\n                const formfin = s.form;\r\n                if (formfin) {\r\n                    for (let elem of formfin) {\r\n                        if (elem instanceof HTMLInputElement && ((elem.type === 'text' || elem.type === 'tel'))) {\r\n                            if (!this.isValid(elem.type, elem.value)) {\r\n                                    this.sendErrMessage(Error.ERR, 'Заполните поля \"имя\" и \"№ телефона\"');\r\n                                    this.sendData = null;\r\n                                    return;\r\n                            } \r\n                        } \r\n                    }  \r\n                }  \r\n            }\r\n            const sname = s.nameStep;\r\n            const sdata = s.getStepData();\r\n\r\n            if (sname === 'step3')\r\n                sendData.color_fence_block = sdata.variant || '';\r\n            else if (sname === 'step4')\r\n                sendData.height_fence = parseFloat(sdata.height_zabor || '');\r\n            else if (sname === 'step5')\r\n                sendData.total_lenght_fence = parseFloat(sdata.length_zabora || '0');\r\n            else if (sname === 'step6')\r\n                sendData.lenght_between_colls = parseFloat(sdata.length_between_stolbami_zabora || '');\r\n            else if (sname === 'step7')\r\n                sendData.how_many_wickets = parseInt(sdata.how_many_wickets || '');\r\n            else if (sname === 'step9') {\r\n                sendData.width_gates = `откатные: ${parseFloat((sdata.otkatnie != 'не надо')? sdata.otkatnie:'0')}/распашные: ${parseFloat((sdata.raspashnie != 'не надо')?sdata.raspashnie:'0')}`;\r\n                sendData.width_wicket = parseFloat((sdata.kalitka != 'не надо')?sdata.kalitka:'0');\r\n            }\r\n            else if (sname === 'step99') {\r\n                sendData.width_second_gates = `откатные: ${parseFloat((sdata.second_otkatnie != 'не надо')? sdata.second_otkatnie:'0')}/распашные: ${parseFloat((sdata.second_raspashnie != 'не надо')?sdata.second_raspashnie:'0')}`; \r\n                sendData.width_second_wicket = parseFloat((sdata.second_kalitka != 'не надо')?sdata.second_kalitka:'0'); \r\n            }\r\n            else if (sname === 'step8') {\r\n                sendData.how_many_gates = parseInt(sdata.how_many_gates || '');\r\n            }\r\n            else if (sname === 'step_finish') {\r\n                sendData.name = sdata.clientName || '';\r\n                sendData.phone = sdata.clientTel || '';\r\n            }\r\n            else if (sname === 'step1')\r\n                sendData.var_comp_coll = sdata.variant || '';\r\n            else if (sname === 'step2')\r\n                sendData.fill_between_coll = sdata.variant || '';\r\n            else if (sname === 'step10')\r\n                sendData.isAutomatic = sdata.isAutmatic || '';\r\n            else if (sname === 'step11')\r\n                sendData.isMount = sdata.isMounth || '';\r\n            else if (sname === 'step12')\r\n                sendData.city = sdata.adress || '';\r\n             \r\n            // console.log(s.nameStep, s.getStepData())\r\n        } // efor\r\n        this.sendData = sendData;\r\n        \r\n    }\r\n}","import { StepsSelectData } from \"../types/stepsT\";\r\n\r\n\r\nexport function disableButton(btn: HTMLButtonElement | null, isDisable: boolean = true) {\r\n    if (btn) {\r\n        if (isDisable) {\r\n            btn.classList.remove('button-nav-disable-false', 'button-nav-disable-false:focus');\r\n            btn.classList.add('button-nav-disable-true');\r\n            \r\n        } else {\r\n            btn.classList.remove('button-nav-disable-true')\r\n            btn.classList.add('button-nav-disable-false', 'button-nav-disable-false:focus') ;\r\n            \r\n        }\r\n                       \r\n        \r\n        btn.disabled = isDisable;\r\n    }\r\n}\r\n\r\n\r\nexport function setTitleStep(title: string = '') {\r\n    const ptitle = document.getElementById('titleStep');\r\n    ptitle!.textContent = title;\r\n}\r\n\r\n\r\n\r\nexport function domStep1(domData: StepsSelectData): HTMLFormElement {\r\n   \r\n    const form = document.createElement('form');\r\n    form.setAttribute('id', domData.idForm);\r\n\r\n    const ul = document.createElement('ul');\r\n    ul.classList.add('image-gallery');\r\n\r\n    for (let vars of domData.variants) {\r\n        const li = document.createElement('li');\r\n        const img = document.createElement('img');\r\n        img.setAttribute('src', vars.imgSrc);\r\n\r\n        const div = document.createElement('div');\r\n        div.classList.add('check-in');\r\n\r\n        const rinput = document.createElement('input');\r\n        rinput.setAttribute('type', 'radio');\r\n        rinput.setAttribute('id', vars.radioId);\r\n        rinput.setAttribute('name', vars.radioName);\r\n        rinput.setAttribute('value', vars.radioValue);\r\n        rinput.checked = vars.isChecked;\r\n        \r\n        const span = document.createElement('span');\r\n        span.textContent = vars.titleSpan;\r\n\r\n        div.appendChild(rinput);\r\n        div.appendChild(span);\r\n        li.appendChild(img);\r\n        li.appendChild(div);\r\n        ul.appendChild(li);\r\n    }\r\n    \r\n    form.appendChild(ul);\r\n\r\n    return form;\r\n}","import { StepsFormSity } from \"../types/stepsT\";\r\n\r\n\r\nexport function domStep2(domData: StepsFormSity): HTMLFormElement {\r\n    const form = document.createElement('form');\r\n    form.setAttribute('id', domData.idForm);\r\n\r\n    const cntdiv = document.createElement('div');\r\n    cntdiv.classList.add('container');\r\n    const divg = document.createElement('div');\r\n    divg.classList.add('form-group', 'step-2-area-div');\r\n\r\n    const label = document.createElement('label');\r\n    label.setAttribute('for', domData.idInput);\r\n    label.textContent = \"Напишите Ваше примерное местоположение:\"\r\n    const inputarea = document.createElement('textarea');\r\n    inputarea.setAttribute('rows', '5');\r\n    inputarea.setAttribute('placeholder', domData.titleInput);\r\n    inputarea.setAttribute('id', domData.idInput);\r\n    inputarea.setAttribute('name', 'address');\r\n    divg.appendChild(label);\r\n    divg.appendChild(inputarea);\r\n    cntdiv.appendChild(divg);\r\n    form.appendChild(cntdiv);\r\n\r\n    return form;\r\n}\r\n\r\nexport function blockedNextStep(message: string) {\r\n    const div = document.createElement('div');\r\n    div.classList.add('error-next');\r\n    const p = document.createElement('p');\r\n    p.textContent = message;\r\n    div.appendChild(p);\r\n    return div;\r\n}\r\n\r\n\r\nexport function deleteErrorBlock(cnt: HTMLElement | null, err: HTMLElement, delayDel: number) {\r\n    if (cnt)\r\n        window.setTimeout(() => {\r\n            cnt.removeChild(err);\r\n        }, delayDel)\r\n}\r\n\r\n// <textarea class=\"form-control\" rows=\"5\" id=\"comment\"></textarea>\r\n// <div class=\"form-group\">\r\n//     <label for=\"email\">Email:</label>\r\n//     <input type=\"email\" class=\"form-control\" id=\"email\" placeholder=\"Enter email\" name=\"email\">\r\n// </div>","import { StepsSelectData5 } from \"../types/stepsT\";\r\n \r\n\r\n\r\nexport function domStep5(domData: StepsSelectData5): HTMLFormElement {\r\n    const form = document.createElement('form');\r\n    form.setAttribute('id', domData.idForm);\r\n\r\n    for (let vars of domData.variants) {\r\n        const block = createDiv5(vars.imgSrc, vars.titleRadioGroup, vars.nameRadioGroup, vars.radios, domData.idForm);\r\n        form.appendChild(block);\r\n    }\r\n\r\n    return form;\r\n}\r\n\r\n\r\n\r\nfunction createDiv5(imgsrc: string, titleRadio: string, nameRadioG: string, radios: string[], id: string): HTMLElement {\r\n    const div = document.createElement('div');\r\n    div.classList.add('div-main-rgroup');\r\n\r\n    const divImg = document.createElement('div');\r\n    divImg.classList.add('div-img');\r\n    const img = document.createElement('img');\r\n    img.setAttribute('src', imgsrc);\r\n    divImg.appendChild(img);\r\n    \r\n    const divRadioGroup = document.createElement('div');\r\n    divRadioGroup.classList.add('div-rgroup');\r\n\r\n    const titleRadioGroup = document.createElement('div');\r\n    const ptitle = document.createElement('p');\r\n    ptitle.textContent = titleRadio;\r\n    titleRadioGroup.appendChild(ptitle);\r\n\r\n    const divGroup = document.createElement('div');\r\n\r\n    radios.forEach((r, i) => {\r\n        const rinput = document.createElement('input');\r\n        const rlabel = document.createElement('label');\r\n        rinput.setAttribute('type', 'radio');\r\n        rinput.setAttribute('id', `${id}-rg-${i}`);\r\n        rinput.setAttribute('name', nameRadioG);\r\n        rinput.setAttribute('value', r);\r\n        rlabel.setAttribute('for', `${id}-rg-${i}`);\r\n        rlabel.textContent = r;\r\n        if (i === 0) rinput.checked = true;\r\n        rlabel.appendChild(rinput);\r\n        divGroup.appendChild(rlabel);\r\n    });\r\n\r\n    divRadioGroup.appendChild(titleRadioGroup);\r\n    divRadioGroup.appendChild(divGroup);\r\n\r\n    div.appendChild(divImg);\r\n    div.appendChild(divRadioGroup);\r\n\r\n    return div;\r\n}\r\n\r\n\r\nexport function domStepN6 (domData: StepsSelectData5): HTMLFormElement {\r\n    const form = document.createElement('form');\r\n    form.setAttribute('id', domData.idForm);\r\n\r\n    const cdiv = document.createElement('div');\r\n    cdiv.classList.add('container');\r\n    const div = document.createElement('div');\r\n    div.classList.add('form-group', 'step-2-area-div')\r\n    domData.variants.forEach((v, i) => {\r\n        const rinput = document.createElement('input');\r\n        const rlabel = document.createElement('label');\r\n        rinput.setAttribute('type', 'text');\r\n        rinput.setAttribute('style', 'max-width: 200px;');\r\n        rinput.setAttribute('id', `${domData.idForm}-N-${i}`);\r\n        rinput.setAttribute('name', v.nameRadioGroup);\r\n        rinput.setAttribute('placeholder', v.titleRadioGroup);\r\n        rlabel.setAttribute('for', `${domData.idForm}-N-${i}`);\r\n        rlabel.textContent = v.titleRadioGroup;\r\n        div.appendChild(rlabel);\r\n        div.appendChild(rinput);\r\n    });\r\n    cdiv.appendChild(div);\r\n    form.appendChild(cdiv);\r\n\r\n    return form;\r\n}\r\n\r\n\r\n// <input type=\"radio\" id=\"contactChoice1\" name=\"contact\" value=\"email\" />\r\n// <label for=\"contactChoice1\">Email</label>\r\n\r\nexport function domStep6(domData: StepsSelectData5): HTMLFormElement {\r\n    const form = document.createElement('form');\r\n    form.setAttribute('id', domData.idForm);\r\n\r\n    domData.variants.forEach((v) => {\r\n        const div = document.createElement('div');\r\n        const img = document.createElement('img');\r\n        div.classList.add('step-6-style')\r\n        img.setAttribute('src', v.imgSrc);\r\n        div.appendChild(img);\r\n\r\n        const divGroup = document.createElement('div');\r\n        divGroup.classList.add('step-6-radgroup');\r\n\r\n        v.radios.forEach((r, i) => {\r\n            const rinput = document.createElement('input');\r\n            const rlabel = document.createElement('label');\r\n            rinput.setAttribute('type', 'radio');\r\n            rinput.setAttribute('id', `${domData.idForm}-rg-${i}`);\r\n            rinput.setAttribute('name', v.nameRadioGroup);\r\n            rinput.setAttribute('value', r);\r\n            rlabel.setAttribute('for', `${domData.idForm}-rg-${i}`);\r\n            rlabel.textContent = r;\r\n            if (i === 0) rinput.checked = true;\r\n            rlabel.appendChild(rinput);\r\n            divGroup.appendChild(rlabel);\r\n        });\r\n        form.appendChild(divGroup);\r\n        form.appendChild(div);\r\n    });\r\n\r\n\r\n    return form;\r\n}","import { StepFinishtData } from \"../types/stepsT\";\r\n\r\n\r\nexport function domStepFinish(domData: StepFinishtData, callback: (e: Event) => void): HTMLFormElement {\r\n    const form = document.createElement('form');\r\n    form.setAttribute('id', domData.idForm);\r\n\r\n    const div = document.createElement('div');\r\n    div.classList.add('formdiv');\r\n\r\n    const ddiv = document.createElement('div');\r\n    \r\n    const fdata = `\r\n        <div class=\"form-group form-div-send\">\r\n            <span id=\"spanerr\" style=\"display: block; color: red; font-size: 0.8em;\"></span>\r\n            <label for=\"${domData.inputNameName}\">Ваше имя:</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"${domData.inputNameName}\" required placeholder=\"Ваше имя\">\r\n        \r\n            <label for=\"${domData.inputTelName}\">Ваш № телефона:</label>\r\n            <input type=\"tel\" class=\"form-control\" id=\"${domData.inputTelName}\" required placeholder=\"+375 (_ _) _ _ _ - _ _ - _ _\">\r\n        </div>\r\n    `;\r\n    ddiv.innerHTML = fdata;\r\n    \r\n    const button = document.createElement('button');\r\n    button.setAttribute('id', 'button-submit-steps');\r\n    button.textContent = 'Отправить';\r\n    button.addEventListener('click', callback);\r\n    \r\n    ddiv.appendChild(button);\r\n    div.appendChild(ddiv);\r\n\r\n    const idiv = document.createElement('div');\r\n    const ico = document.createElement('img');\r\n    ico.setAttribute('src', domData.imgSrc || '');\r\n    idiv.appendChild(ico);\r\n\r\n    div.appendChild(idiv);\r\n\r\n    form.appendChild(div);\r\n\r\n    return form;\r\n}","\r\nexport const settings = (() => {\r\n\r\n    const HOST = '/';\r\n    // const HOST = 'https://plitochka-quiz.vercel.app/';\r\n\r\n    return {\r\n        HOST\r\n    };\r\n})();\r\n","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep6 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class HowManyGates extends Step {\r\n    RADIO_NAME = \"step-N-how-many-gates\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-N-how-gates',\r\n        variants: [\r\n            {\r\n                imgSrc: '',\r\n                titleRadioGroup: '',\r\n                nameRadioGroup: 'how_many_gates',\r\n                radios: ['1', '2']\r\n            },\r\n            \r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep6(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}\r\n\r\n//","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep6 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class HowManyWickets extends Step {\r\n    RADIO_NAME = \"step-N-how-many-wickets\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-N-how-wickets',\r\n        variants: [\r\n            {\r\n                imgSrc: '',\r\n                titleRadioGroup: '',\r\n                nameRadioGroup: 'how_many_wickets',\r\n                radios: ['1', '2']\r\n            },\r\n            \r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep6(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}\r\n\r\n//","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep5 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class SecondStep5 extends Step {\r\n    RADIO_NAME = \"step-s5\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-s5',\r\n        variants: [\r\n            {\r\n                imgSrc: 'styles/stepsimg/s5/it-3-1.jpg',\r\n                titleRadioGroup: 'Вторые откатные ворота (выбрать длину)',\r\n                nameRadioGroup: 'second_otkatnie',\r\n                radios: ['не надо', '3.5 м', '4 м', '4.5 м', '5 м', ]\r\n            },\r\n            {\r\n                imgSrc: 'styles/stepsimg/s5/it-3-2.jpg',\r\n                titleRadioGroup: 'Вторые распашные ворота (выбрать длину)',\r\n                nameRadioGroup: 'second_raspashnie',\r\n                radios: ['не надо', '3.5 м', '4 м', '4.5 м', ]\r\n            },\r\n            {\r\n                imgSrc: 'styles/stepsimg/s5/it-3-3.jpg',\r\n                titleRadioGroup: 'Вторая калитка (выбрать ширину)',\r\n                nameRadioGroup: 'second_kalitka',\r\n                radios: ['не надо', '1 м', '1.2 м', ]\r\n            },\r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep5(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { StepData } from \"../types/stepsT\";\r\n\r\n\r\n/**\r\n * Шаг абстрактный\r\n */\r\nexport abstract class Step {\r\n\r\n    public cnt: HTMLElement | null = null;      // div контейнер\r\n    protected stepData: StepData = {};          // данные шага\r\n    form: HTMLFormElement | null = null;        // форма хтмл шага\r\n    nameStep: string = '';                      // имя шага\r\n    button: HTMLButtonElement | null = null;    // кнопка навигации\r\n    isBlockNext: boolean = false;               // для блокировки кнопки \"вперед\" (шаг напишите местоположение)\r\n\r\n    constructor(container: HTMLElement | null) {\r\n        this.cnt = container;\r\n    }\r\n\r\n    /**\r\n     * Если нажали на картинку, то ищем в \"братьях\"\r\n     * input radio и выделяем (выбираем пункт)\r\n     * @param e EventListener\r\n     */\r\n    evnImg(e: Event) {\r\n        const input = (<HTMLImageElement> e.target).nextSibling?.childNodes;\r\n        input?.forEach(i => {\r\n            if (i instanceof HTMLInputElement) {\r\n                i.checked = true;\r\n                this.bodyScrollDown();\r\n            }\r\n        });\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * Получить данные шага\r\n     */\r\n    getStepData() {\r\n        return this.stepData;\r\n    }\r\n\r\n\r\n    /**\r\n     * Заполнить контейнер и задать обработчик нажатия на\r\n     * картинку.\r\n     * @param obj - заполнить контейнер этим html объектом\r\n     */\r\n    fillContainer(obj: HTMLElement): void {\r\n        if (this.cnt) \r\n            this.cnt.appendChild(obj);\r\n        const tagImg = document.querySelectorAll('img');\r\n        if (tagImg) {\r\n            tagImg.forEach((el) => {\r\n                el.addEventListener('click', this.evnImg.bind(this));\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Очистить контейнер и удалить обработчик\r\n     * нажатия на картинку\r\n     */\r\n    clearContainer(): void {\r\n        if (this.cnt)\r\n            for (let domElem of Array.from(this.cnt.children)) {\r\n                this.cnt.removeChild(domElem);\r\n            }\r\n        const tagImg = document.querySelectorAll('img');\r\n        try {\r\n            if (tagImg) {\r\n                tagImg.forEach((el) => {\r\n                    el.removeEventListener('click', this.evnImg.bind(this));\r\n                });\r\n            }\r\n        } catch (e) {console.log('clearContainer() -> do not remove evn listener img')}\r\n    }\r\n\r\n\r\n    addData(key: string, value: string) {\r\n        this.stepData[key] = value;\r\n    }\r\n\r\n    \r\n    /**\r\n     * При перемещении назад-вперед нужно чтобы\r\n     * выбранные данные на каждом шаге не пропали\r\n     * (т-к содержимое шагов динамически наполняется и очищается\r\n     * по нажатии \"вперед\")\r\n     */\r\n    checkedBack() {\r\n        // && this.stepData.variant != ''\r\n        if (this.form ) { \r\n            for (let elem of this.form.elements) {\r\n                if (elem instanceof HTMLInputElement && elem.type === \"radio\" && \r\n                    (elem.value === this.stepData[elem.name] || elem.value === this.stepData.variant )) {\r\n                        elem.checked = true;\r\n                    } \r\n                if (elem instanceof HTMLInputElement && elem.type === \"text\" && this.stepData[elem.name]) {\r\n                     \r\n                    elem.value = this.stepData[elem.name];\r\n                }\r\n            }\r\n        } if (this.form && this.stepData['adress']) {\r\n            for (let elem of this.form.elements) {\r\n                 \r\n                if (elem instanceof HTMLTextAreaElement) {\r\n                            elem.textContent = this.stepData['adress'];\r\n                            \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    cntScrollTop() {\r\n        this.cnt?.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: \"smooth\"\r\n        })\r\n       \r\n    }\r\n\r\n    bodyScrollDown() {\r\n        window.scrollTo({\r\n            top: 100,\r\n            left: 0,\r\n            behavior: \"smooth\",\r\n          });\r\n    }\r\n\r\n    bodyScrollTop() {\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: \"smooth\",\r\n          });\r\n          this.cntScrollTop();\r\n    }\r\n\r\n    abstract step(): void;          // очистить, наполнить содержимым контейне и др\r\n    abstract selectData(): void;    // сохранить выбранные данные шага в объекте\r\n\r\n}","import { domStep1, setTitleStep } from \"../domManip/domStep1\";\r\nimport { StepsSelectData } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\n\r\nexport class Step1 extends Step {\r\n    RADIO_NAME = \"step-1\";\r\n\r\n    // данные для отправки \"генератору\" (формирователю) хтмл \r\n    domData: StepsSelectData = {\r\n        \r\n        idForm: 'form-step-1',\r\n        variants: [\r\n            {\r\n                imgSrc: \"styles/stepsimg/s1/stolb_v1.jpg\",\r\n                titleSpan: \"Вариант 1. Все столбы из камня\",\r\n                radioId: \"stolb-1\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Все столбы из камня\",\r\n                isChecked: true\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s1/stolb_v2.jpg\",\r\n                titleSpan: \"Вариант 2. Каменный столб через один или несколько металлических\",\r\n                radioId: \"stolb-2\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Каменный столб через один или несколько металлических\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s1/stolb_v3.jpg\",\r\n                titleSpan: \"Вариант 3. Каменные столбы на входе и по краям\",\r\n                radioId: \"stolb-3\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Каменные столбы на входе и по краям\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s1/zapolneniev4.jpg\",\r\n                titleSpan: \"Вариант 4. Отдельностоящие каменные столбы\",\r\n                radioId: \"stolb-4\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Отдельностоящие каменные столбы\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s1/stolb_v5.jpg\",\r\n                titleSpan: \"Вариант 5. Каменные столбы только на входной группе\",\r\n                radioId: \"stolb-5\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Каменные столбы только на входной группе\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s1/stolb_v6.jpg\",\r\n                titleSpan: \"Вариант 6. Только металлические столбы\",\r\n                radioId: \"stolb-6\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Только металлические столбы\",\r\n                isChecked: false\r\n            },\r\n        ],\r\n    };\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {};\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();                  // очисть контейнер\r\n        setTitleStep();                         // очистить заголовок шага\r\n        this.form = domStep1(this.domData);     // сгенерировать хтмл объект формы\r\n        setTitleStep(this.title);               // задать заголовок шага\r\n        this.fillContainer(this.form);          // заполнить контейнер формой с картинками, кнопками итд\r\n        this.checkedBack();                     // если в шаг было что-то записано (вернулись сюда) то показать что выбирали\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData.variant = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep2 } from \"../domManip/domStep2\";\r\nimport { StepsFormSity } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class Step2 extends Step {\r\n    RADIO_NAME = \"step-2\";\r\n\r\n    domData: StepsFormSity = {\r\n        idForm: 'form-step-2',\r\n        titleInput: 'Укажите Ваше примерное или точное местоположение',\r\n        nameInput: 'sity',\r\n        idInput: 'step-2-input-form'\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {};\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep2(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                } else if (el instanceof HTMLTextAreaElement) {\r\n                    if (el.value.trim().length > 0) {\r\n                        this.stepData['adress'] = el.value;\r\n                        this.isBlockNext = false;\r\n                    } else { this.isBlockNext = true }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { domStep1, setTitleStep } from \"../domManip/domStep1\";\r\nimport { StepsSelectData } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\n\r\nexport class Step3 extends Step {\r\n    RADIO_NAME = \"step-3\";\r\n\r\n    domData: StepsSelectData = {\r\n        idForm: 'form-step-3',\r\n        variants: [\r\n            {\r\n                imgSrc: \"styles/stepsimg/no.png\",\r\n                titleSpan: 'Не надо',\r\n                radioId: \"lamel-no-1\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Не надо',\r\n                isChecked: true\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/zabor-sparta_photo_9.jpg\",\r\n                titleSpan: 'Горизонтальные ламели в стиле Ранчо, модель \"Спарта\"',\r\n                radioId: \"lamel-1\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Горизонтальные ламели в стиле Ранчо, модель \"Спарта\"',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/line_kviz.jpg\",\r\n                titleSpan: 'Горизонтальные ламели в стиле Ранчо с малозаметными бортами, модель \"Лайн\"',\r\n                radioId: \"lamel-2\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Горизонтальные ламели в стиле Ранчо с малозаметными бортами, модель \"Лайн\"',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/shvec-rancho_kviz.jpg\",\r\n                titleSpan: 'Разноширокие горизонтальные ламели, \"Швецкое\" ранчо',\r\n                radioId: \"lamel-3\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Разноширокие горизонтальные ламели, \"Швецкое\" ранчо',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/portfolio_kolodishi-gorc-de-luxe-22_3.jpg\",\r\n                titleSpan: 'Горизонтальные ламели в стиле Ранчо, модель \"Рома\"',\r\n                radioId: \"lamel-4\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Горизонтальные ламели в стиле Ранчо, модель \"Рома\"',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/zabor-shahmatka_photo_13.jpg\",\r\n                titleSpan: 'Горизонтальные ламели в стиле Ранчо с двухсторонней зашивкой (шахматка), модель \"Рома\"',\r\n                radioId: \"lamel-5\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Горизонтальные ламели в стиле Ранчо с двухсторонней зашивкой (шахматка), модель \"Рома\"',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/jalousie-fence-photo-7.jpg\",\r\n                titleSpan: 'Горизонтальные ламели в стиле Жалюзи',\r\n                radioId: \"lamel-6\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Горизонтальные ламели в стиле Жалюзи\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/kviz-rascheska.jpg\",\r\n                titleSpan: 'Алюминиевое вертикальное заполнение \"Расческа\"',\r\n                radioId: \"lamel-7\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Алюминиевое вертикальное заполнение \"Расческа\"',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/rombus_kviz.jpg\",\r\n                titleSpan: 'Алюминиевые горизонтальные ламели \"Ромбус\"',\r\n                radioId: \"lamel-8\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Алюминиевые горизонтальные ламели \"Ромбус\"',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/alum-rancho-kviz.jpg\",\r\n                titleSpan: 'Алюминиевые горизонтальные ламели в стиле Ранчо',\r\n                radioId: \"lamel-9\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Алюминиевые горизонтальные ламели в стиле Ранчо',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/shtaketnik-photo-7.jpg\",\r\n                titleSpan: 'Вертикальный металлический штактетник с односторонней зашивкой',\r\n                radioId: \"lamel-10\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Вертикальный металлический штактетник с односторонней зашивкой',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/shtaketnik2.jpg\",\r\n                titleSpan: 'Вертикальный металлический штактетник с двухсторонней зашивкой',\r\n                radioId: \"lamel-11\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: 'Вертикальный металлический штактетник с двухсторонней зашивкой',\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/s3/3d-fence_photo_5.jpg\",\r\n                titleSpan: '3D-сетка',\r\n                radioId: \"lamel-12\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: '3D-сетка',\r\n                isChecked: false\r\n            },\r\n        ],\r\n    };\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {};\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep1(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData.variant = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep5 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class Step5 extends Step {\r\n    RADIO_NAME = \"step-5\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-5',\r\n        variants: [\r\n            {\r\n                imgSrc: 'styles/stepsimg/s5/it-3-1.jpg',\r\n                titleRadioGroup: 'Откатные ворота (выбрать длину)',\r\n                nameRadioGroup: 'otkatnie',\r\n                radios: ['3.5 м', '4 м', '4.5 м', '5 м', 'не надо']\r\n            },\r\n            {\r\n                imgSrc: 'styles/stepsimg/s5/it-3-2.jpg',\r\n                titleRadioGroup: 'Распашные ворота (выбрать длину)',\r\n                nameRadioGroup: 'raspashnie',\r\n                radios: ['3.5 м', '4 м', '4.5 м', 'не надо']\r\n            },\r\n            {\r\n                imgSrc: 'styles/stepsimg/s5/it-3-3.jpg',\r\n                titleRadioGroup: 'Калитка (выбрать ширину)',\r\n                nameRadioGroup: 'kalitka',\r\n                radios: ['1 м', '1.2 м', 'не надо']\r\n            },\r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep5(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep6 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class Step6 extends Step {\r\n    RADIO_NAME = \"step-6\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-6',\r\n        variants: [\r\n            {\r\n                imgSrc: 'styles/stepsimg/s6/it-5-1.jpg',\r\n                titleRadioGroup: '',\r\n                nameRadioGroup: 'isAutmatic',\r\n                radios: ['Да', 'Нет']\r\n            },\r\n            \r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep6(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep6 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class Step7 extends Step {\r\n    RADIO_NAME = \"step-7\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-7',\r\n        variants: [\r\n            {\r\n                imgSrc: 'styles/stepsimg/s7/it-6-2.png',\r\n                titleRadioGroup: '',\r\n                nameRadioGroup: 'isMounth',\r\n                radios: ['Да', 'Нет']\r\n            },\r\n            \r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep6(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStepFinish } from \"../domManip/domStepFinish\";\r\nimport { StepFinishtData } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class StepFinish extends Step {\r\n    RADIO_NAME = \"\";\r\n\r\n    domData: StepFinishtData = {\r\n        idForm: 'form-step-finish',\r\n        imgSrc: 'styles/stepsimg/ava.png',\r\n        inputNameName: 'clientName',\r\n        inputTelName: 'clientTel',\r\n         \r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n    callbackQuizeResult: (e: Event) => Promise<any>;  // callback от QuizeResult собирает данные и отправка на бек\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n \r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    // задать калбацк this.submitCallback() -> QuizeResult.sendFinish()\r\n    setCallbackButtonSubmit(clb: (e: Event) => Promise<any>) {\r\n        this.callbackQuizeResult = clb;\r\n    }\r\n\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStepFinish(this.domData, this.submitCallback.bind(this));\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);         \r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n\r\n    // кнопка \"Отправить\" финиш\r\n    async submitCallback(e: Event) {\r\n        e.preventDefault();\r\n        this.selectData();\r\n        await this.callbackQuizeResult(e);\r\n    }\r\n    \r\n\r\n    selectData(): void {\r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && (el.type === \"text\" || el.type === \"tel\")) {\r\n                    if (el.value.trim().length > 0) {\r\n                        this.stepData[el.id] = el.value;\r\n                    }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { domStep1, setTitleStep } from \"../domManip/domStep1\";\r\nimport { StepsSelectData } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\n\r\nexport class StepN4 extends Step {\r\n    RADIO_NAME = \"step-N-4\";\r\n\r\n    // данные для отправки \"генератору\" (формирователю) хтмл \r\n    domData: StepsSelectData = {\r\n        \r\n        idForm: 'form-step-N-1',\r\n        variants: [\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a1.jpg\",\r\n                titleSpan: \"Оникс\",\r\n                radioId: \"nashi-1-1\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Оникс\",\r\n                isChecked: true\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a2.jpg\",\r\n                titleSpan: \"Черный микс\",\r\n                radioId: \"nashi-1-2\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Черный микс\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a3.webp\",\r\n                titleSpan: \"Сахара\",\r\n                radioId: \"nashi-1-3\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Сахара\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a4.webp\",\r\n                titleSpan: \"Графит\",\r\n                radioId: \"nashi-1-4\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Графит\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a5.webp\",\r\n                titleSpan: \"Кварц\",\r\n                radioId: \"nashi-1-5\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Кварц\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a6.webp\",\r\n                titleSpan: \"Капучино\",\r\n                radioId: \"nashi-1-6\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Капучино\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a7.webp\",\r\n                titleSpan: \"Шоколад\",\r\n                radioId: \"nashi-1-7\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Шоколад\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a8.webp\",\r\n                titleSpan: \"Тёмный шоколад\",\r\n                radioId: \"nashi-1-8\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Тёмный шоколад\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a9.webp\",\r\n                titleSpan: \"Грей\",\r\n                radioId: \"nashi-1-9\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Грей\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a10.webp\",\r\n                titleSpan: \"Гранат\",\r\n                radioId: \"nashi-1-10\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Гранат\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a11.webp\",\r\n                titleSpan: \"Лава\",\r\n                radioId: \"nashi-1-11\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Лава\",\r\n                isChecked: false\r\n            },\r\n            {\r\n                imgSrc: \"styles/stepsimg/nashi/s1/a12.webp\",\r\n                titleSpan: \"Медный\",\r\n                radioId: \"nashi-1-12\",\r\n                radioName: this.RADIO_NAME,\r\n                radioValue: \"Медный\",\r\n                isChecked: false\r\n            },\r\n        ],\r\n    };\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {};\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();                  // очисть контейнер\r\n        setTitleStep();                         // очистить заголовок шага\r\n        this.form = domStep1(this.domData);     // сгенерировать хтмл объект формы\r\n        setTitleStep(this.title);               // задать заголовок шага\r\n        this.fillContainer(this.form);          // заполнить контейнер формой с картинками, кнопками итд\r\n        this.checkedBack();                     // если в шаг было что-то записано (вернулись сюда) то показать что выбирали\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData.variant = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep6 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class StepN5 extends Step {\r\n    RADIO_NAME = \"step-N-5\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-N-5',\r\n        variants: [\r\n            {\r\n                imgSrc: 'styles/stepsimg/nashi/s2/hz.webp',\r\n                titleRadioGroup: '',\r\n                nameRadioGroup: 'height_zabor',\r\n                radios: ['1.6 м', '1.8 м', '2.0 м']\r\n            },\r\n            \r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep6(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStepN6 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class StepN6 extends Step {\r\n    RADIO_NAME = \"step-N-6\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-N-6',\r\n        variants: [\r\n            {\r\n                imgSrc: '',\r\n                titleRadioGroup: 'Введите длину забора (м):',\r\n                nameRadioGroup: 'length_zabora',\r\n                radios: []\r\n            },\r\n            \r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStepN6(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"text\" ) {\r\n                    this.stepData[el.name] = el.value;\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","import { setTitleStep } from \"../domManip/domStep1\";\r\nimport { domStep6 } from \"../domManip/domStep5\";\r\nimport { StepsSelectData5 } from \"../types/stepsT\";\r\nimport { Step } from \"./Step\";\r\n\r\nexport class StepN7 extends Step {\r\n    RADIO_NAME = \"step-N-7\";\r\n\r\n    domData: StepsSelectData5 = {\r\n        idForm: 'form-step-N-7',\r\n        variants: [\r\n            {\r\n                imgSrc: '',\r\n                titleRadioGroup: '',\r\n                nameRadioGroup: 'length_between_stolbami_zabora',\r\n                radios: ['2.0 м', '2.5 м', '2.75 м', '3.0 м']\r\n            },\r\n            \r\n        ],\r\n    };\r\n\r\n    button: HTMLButtonElement | null = null;\r\n    form: HTMLFormElement | null = null;\r\n    title: string = '';\r\n    isFirst: boolean = false;\r\n    nameStep: string = '';\r\n\r\n    constructor(nameStep: string,\r\n                container: HTMLElement | null,\r\n                button: HTMLButtonElement | null,\r\n                title: string = '', \r\n                isFirst: boolean = false) {\r\n\r\n        super(container);\r\n        this.button = button;\r\n        this.title = title;\r\n        this.isFirst = isFirst;\r\n        this.stepData = {}\r\n        this.nameStep = nameStep;\r\n    }\r\n\r\n    step(): void {\r\n        this.clearContainer();\r\n        setTitleStep();\r\n        this.form = domStep6(this.domData);\r\n        setTitleStep(this.title);\r\n        this.fillContainer(this.form);\r\n        this.checkedBack();\r\n        this.bodyScrollTop();\r\n    }\r\n\r\n    selectData(): void {\r\n        \r\n         if (this.form) {\r\n            for (let el of this.form.elements) {\r\n                if (el instanceof HTMLInputElement && el.type === \"radio\" ) {\r\n                    if (el.checked) { \r\n                        this.stepData[el.name] = el.value;\r\n                     }\r\n                }\r\n            }\r\n         }\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n"," \r\nimport { QuizeResult } from \"./src/QuizeResult\";\r\nimport { disableButton } from \"./src/domManip/domStep1\";\r\nimport { HowManyGates } from \"./src/steppers/HowManyGates\";\r\nimport { HowManyWickets } from \"./src/steppers/HowManyWickets\";\r\nimport { SecondStep5 } from \"./src/steppers/SecondStep5\";\r\nimport { Step1 } from \"./src/steppers/Step1\";\r\nimport { Step2 } from \"./src/steppers/Step2\";\r\nimport { Step3 } from \"./src/steppers/Step3\";\r\nimport { Step5 } from \"./src/steppers/Step5\";\r\nimport { Step6 } from \"./src/steppers/Step6\";\r\nimport { Step7 } from \"./src/steppers/Step7\";\r\nimport { StepFinish } from \"./src/steppers/StepFinish\";\r\nimport { StepN4 } from \"./src/steppers/StepN4\";\r\nimport { StepN5 } from \"./src/steppers/StepN5\";\r\nimport { StepN6 } from \"./src/steppers/StepN6\";\r\nimport { StepN7 } from \"./src/steppers/StepN7\";\r\n\r\n// div блок-контейнер дин. контента\r\nconst CONTAINER = document.getElementById('content-container');\r\n\r\n// кнопки навигации (в этом приложении только как подсветка шагов)\r\nconst navButton1 = document.getElementById('step-1') as HTMLButtonElement;\r\nconst navButton2 = document.getElementById('step-2') as HTMLButtonElement;\r\nconst navButton3 = document.getElementById('step-3') as HTMLButtonElement;\r\nconst navButton4 = document.getElementById('step-4') as HTMLButtonElement;\r\nconst navButton5 = document.getElementById('step-5') as HTMLButtonElement;\r\n\r\nconst navButton6 = document.getElementById('step-6') as HTMLButtonElement;\r\nconst navButton7 = document.getElementById('step-7') as HTMLButtonElement;\r\nconst navButton8 = document.getElementById('step-8') as HTMLButtonElement;\r\nconst navButton9 = document.getElementById('step-9') as HTMLButtonElement;\r\nconst navButton99 = document.getElementById('step-s9') as HTMLButtonElement;\r\nconst navButton10 = document.getElementById('step-10') as HTMLButtonElement;\r\n\r\nconst navButton11 = document.getElementById('step-11') as HTMLButtonElement;\r\nconst navButton12 = document.getElementById('step-12') as HTMLButtonElement;\r\nconst navButton13 = document.getElementById('step-13') as HTMLButtonElement;\r\n\r\n// массив кнопок. Сначала все кнопки заблочены\r\nconst navButtons = [ navButton1, navButton2, navButton3, navButton4, navButton5,\r\n                    navButton6, navButton7, navButton8, navButton9, navButton99, navButton10, navButton11, navButton12, navButton13 ];\r\n\r\nnavButtons.forEach(v => {\r\n    disableButton(v, true);\r\n});\r\n\r\n\r\n// кнопки \"назад\" \"вперед\"\r\nconst buttonPrev = document.getElementById('prev-step') as HTMLButtonElement;\r\nconst buttonNext = document.getElementById('next-step') as HTMLButtonElement;\r\n\r\n\r\n// шаги. экземпляры abstrack class Step\r\nconst s1 = new Step1('step1', CONTAINER , navButton1, 'Выберите вариант компоновки столбов', true);\r\nconst s2 = new Step3('step2', CONTAINER, navButton2, 'Выберите заполнение между столбами', false);\r\nconst s3 = new StepN4('step3', CONTAINER, navButton3, 'Выберите цвет заборного блока', false);\r\nconst s4 = new StepN5('step4', CONTAINER, navButton4, 'Выберите высоту забора', false);\r\nconst s5 = new StepN6('step5', CONTAINER, navButton5, 'Какая общая длина забора в метрах?', false);\r\nconst s6 = new StepN7('step6', CONTAINER, navButton6, 'Выберите желаемое расстояние между столбами', false);\r\nconst s7 = new HowManyWickets('step7', CONTAINER, navButton7, 'Сколько у вас будет калиток?', false);\r\nconst s8 = new HowManyGates('step8', CONTAINER, navButton8, 'Сколько у вас будет ворот?', false);\r\nconst s9 = new Step5('step9', CONTAINER, navButton9, 'Выберите тип первых ворот, первую калитку и их размер', false);\r\nconst s99 = new SecondStep5('step99', CONTAINER, navButton99, 'Выберите тип вторых ворот, вторую калитку и их размер', false);\r\nconst s10 = new Step6('step10', CONTAINER, navButton10, 'Нужна ли автоматика для ворот?', false);\r\nconst s11 = new Step7('step11', CONTAINER, navButton11, 'Нужен ли монтаж забора?', false);\r\nconst s12 = new Step2('step12', CONTAINER, navButton12, 'Пожалуйста, укажите Ваше примерное или точное местоположение', false);\r\nconst finish = new StepFinish('step_finish', CONTAINER, navButton13, 'Введите, пожалуйста, Ваше имя и контактный номер. Мы свяжемся в Вами в течении нескольких минут.', false);\r\n\r\n// объект управляющий шагами\r\nconst quize = new QuizeResult([s1, s2, s3, s4, s5, s6, s7, s8, s9, s99, s10, s11, s12, finish], buttonPrev, buttonNext);\r\nquize.init();\r\n\r\n// при нажатии на radio input в текущий шаг записывается результат выбора\r\nconst tagInput = document.querySelectorAll('input[type=\"radio\"]');\r\ntagInput.forEach((elem) => {\r\n    elem.addEventListener(\"change\", (e: Event) => {\r\n        const form = (<HTMLFormElement> e.target).form as HTMLFormElement;\r\n        quize.change(form)\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\n"],"names":["Error","constructor","steps","btnPrev","btnNext","cnt","counter","currentStep","sendData","this","init","forEach","s","disableButton","button","StepFinish","nameStep","setCallbackButtonSubmit","sendFinish","bind","addEventListener","prevStep","nextStep","selectNavButtonCurrentStep","step","e","preventDefault","stepsDataResult","response","fetch","settings","HOST","method","mode","credentials","headers","body","JSON","stringify","result","json","console","log","status","sendErrMessage","OK","idQuiz","rowId","window","Telegram","WebApp","ready","close","location","href","ERR","cs","classList","remove","add","selectData","length","isBlockNext","err","blockedNextStep","appendChild","deleteErrorBlock","change","form","id","bodyScrollDown","isValid","eltype","elvalue","v","trim","typeErr","msg","errmsg","document","getElementById","textContent","setAttribute","name","phone","color_fence_block","height_fence","total_lenght_fence","lenght_between_colls","how_many_wickets","width_wicket","width_second_wicket","how_many_gates","width_gates","width_second_gates","var_comp_coll","fill_between_coll","isAutomatic","isMount","city","formfin","elem","HTMLInputElement","type","value","sname","sdata","getStepData","variant","parseFloat","height_zabor","length_zabora","length_between_stolbami_zabora","parseInt","otkatnie","raspashnie","kalitka","second_otkatnie","second_raspashnie","second_kalitka","clientName","clientTel","isAutmatic","isMounth","adress","btn","isDisable","disabled","title","domData","createElement","idForm","ul","vars","variants","li","img","imgSrc","div","rinput","radioId","radioName","radioValue","checked","isChecked","span","titleSpan","cntdiv","divg","label","idInput","inputarea","titleInput","message","p","delayDel","setTimeout","removeChild","createDiv5","imgsrc","titleRadio","nameRadioG","radios","divImg","divRadioGroup","titleRadioGroup","ptitle","divGroup","r","i","rlabel","block","nameRadioGroup","cdiv","callback","ddiv","fdata","inputNameName","inputTelName","innerHTML","idiv","ico","HowManyGates","Step","container","isFirst","super","RADIO_NAME","stepData","clearContainer","setTitleStep","domStep6","fillContainer","checkedBack","bodyScrollTop","el","elements","HowManyWickets","SecondStep5","domStep5","evnImg","input","target","nextSibling","childNodes","obj","tagImg","querySelectorAll","domElem","Array","from","children","removeEventListener","addData","key","HTMLTextAreaElement","cntScrollTop","scrollTo","top","left","behavior","Step1","domStep1","Step2","nameInput","domStep2","Step3","Step5","Step6","Step7","clb","callbackQuizeResult","domStepFinish","submitCallback","StepN4","StepN5","StepN6","domStepN6","StepN7","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","CONTAINER","navButton1","navButton2","navButton3","navButton4","navButton5","navButton6","navButton7","navButton8","navButton9","navButton99","navButton10","navButton11","navButton12","navButton13","buttonPrev","buttonNext","s1","s2","s3","s4","s5","s6","s7","s8","s9","s99","s10","s11","s12","finish","quize","QuizeResult"],"sourceRoot":""}